{"ast":null,"code":"import _slicedToArray from \"/mnt/projetos/Ubersystem/Estudos/recrutei/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/mnt/projetos/Ubersystem/Estudos/recrutei/frontend/src/views/Tickets/index.js\";\nimport React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport ticketsApi from \"../../services/ticketsApi\";\n\nfunction Tickets() {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        data = _useState2[0],\n        setData = _useState2[1];\n\n  const _useState3 = useState([]),\n        _useState4 = _slicedToArray(_useState3, 2),\n        item = _useState4[0],\n        setItem = _useState4[1];\n\n  const _useState5 = useState(true),\n        _useState6 = _slicedToArray(_useState5, 2),\n        tableVisible = _useState6[0],\n        setTableVisible = _useState6[1];\n\n  useEffect(() => {\n    onLoad();\n  }, []);\n\n  const onLoad = async () => {\n    let response = await ticketsApi._all();\n    setData(response.data.data);\n    return response;\n  };\n\n  const onCreate = () => {\n    let item = {\n      'id': 0,\n      'problema': '',\n      'solucao': '',\n      'observacao': '',\n      'tecnico_id': '',\n      'cliente_id': '',\n      'tipos_suporte_id': ''\n    };\n    setItem(item);\n    setTableVisible(false);\n  };\n\n  const onEdit = item => {\n    setItem(item);\n    setTableVisible(false);\n  };\n\n  const onDelete = async id => {\n    await ticketsApi._delete(id);\n    onLoad();\n  };\n\n  const onSave = async item => {\n    if (item.id === 0) {\n      // create\n      return await ticketsApi._create(item);\n    } else {\n      // update\n      return await ticketsApi._update(item.id, item);\n    }\n  };\n\n  const onSubmit = async (e, item) => {\n    e.preventDefault();\n    await onSave(item);\n    onLoad();\n    setTableVisible(true);\n  };\n\n  return React.createElement(\"div\", {\n    className: \"content-wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, React.createElement(\"section\", {\n    className: \"content-header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, \"Ticket\", React.createElement(\"small\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, \"Seja bem vindo...\")), React.createElement(\"ol\", {\n    className: \"breadcrumb\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"/dashboard\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"fa fa-dashboard\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }), \" Home\")), React.createElement(\"li\", {\n    className: \"active\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, \"Ticket\"))), React.createElement(\"section\", {\n    className: \"content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-xs-12\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, tableVisible ? React.createElement(DataTable, {\n    data: data,\n    onEdit: onEdit,\n    onDelete: onDelete,\n    onCreate: onCreate,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }) : React.createElement(DataForm, {\n    onSubmit: onSubmit,\n    data: item,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  })))));\n}\n\nfunction DataForm(info) {\n  const _useState7 = useState(info.data.id),\n        _useState8 = _slicedToArray(_useState7, 2),\n        id = _useState8[0],\n        setId = _useState8[1];\n\n  const _useState9 = useState(info.data.problema),\n        _useState10 = _slicedToArray(_useState9, 2),\n        problema = _useState10[0],\n        setProblema = _useState10[1];\n\n  const _useState11 = useState(info.data.solucao),\n        _useState12 = _slicedToArray(_useState11, 2),\n        solucao = _useState12[0],\n        setSolucao = _useState12[1];\n\n  const _useState13 = useState(info.data.observacao),\n        _useState14 = _slicedToArray(_useState13, 2),\n        observacao = _useState14[0],\n        setObservacao = _useState14[1];\n\n  const _useState15 = useState(info.data.tecnico_id),\n        _useState16 = _slicedToArray(_useState15, 2),\n        tecnico_id = _useState16[0],\n        setTecnicoId = _useState16[1];\n\n  const _useState17 = useState(info.data.cliente_id),\n        _useState18 = _slicedToArray(_useState17, 2),\n        cliente_id = _useState18[0],\n        setClienteId = _useState18[1];\n\n  const _useState19 = useState(info.data.tipos_suporte_id),\n        _useState20 = _slicedToArray(_useState19, 2),\n        tipos_suporte_id = _useState20[0],\n        setSuporteId = _useState20[1];\n\n  const onSubmit = e => {\n    return info.onSubmit(e, {\n      id,\n      problema,\n      solucao,\n      observacao,\n      tecnico_id,\n      cliente_id,\n      tipos_suporte_id\n    });\n  };\n\n  return React.createElement(\"div\", {\n    className: \"box\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"box-header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    className: \"box-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, \"Dados\")), React.createElement(\"div\", {\n    className: \"box-body\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: onSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"box-body\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"id\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }, \"ID\"), React.createElement(\"input\", {\n    onChange: event => setId(event.target.value),\n    value: id,\n    type: \"text\",\n    className: \"form-control\",\n    id: \"id\",\n    placeholder: \"ID\",\n    readOnly: \"readOnly\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"problema\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137\n    },\n    __self: this\n  }, \"Problema\"), React.createElement(\"input\", {\n    onChange: event => setProblema(event.target.value),\n    value: problema,\n    type: \"text\",\n    className: \"form-control\",\n    id: \"problema\",\n    placeholder: \"Problema\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"solucao\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  }, \"Solu\\xE7\\xE3o\"), React.createElement(\"input\", {\n    onChange: event => setSolucao(event.target.value),\n    value: solucao,\n    type: \"text\",\n    className: \"form-control\",\n    id: \"solucao\",\n    placeholder: \"Solu\\xE7\\xE3o\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"observacao\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151\n    },\n    __self: this\n  }, \"Observa\\xE7\\xE3o\"), React.createElement(\"input\", {\n    onChange: event => setObservacao(event.target.value),\n    value: observacao,\n    type: \"text\",\n    className: \"form-control\",\n    id: \"observacao\",\n    placeholder: \"Observa\\xE7\\xE3o\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"box-footer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-primary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160\n    },\n    __self: this\n  }, \"Salvar\")))));\n}\n\nfunction DataTable(info) {\n  const data = info.data;\n\n  const onCreate = () => {\n    return info.onCreate();\n  };\n\n  const onEdit = item => {\n    return info.onEdit(item);\n  };\n\n  const onDelete = id => {\n    return info.onDelete(id);\n  };\n\n  return React.createElement(\"div\", {\n    className: \"box\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"box-header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    className: \"box-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189\n    },\n    __self: this\n  }, \"Tickets\")), React.createElement(\"div\", {\n    className: \"box-body\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    onClick: onCreate,\n    type: \"button\",\n    className: \"btn btn-success\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193\n    },\n    __self: this\n  }, \"Novo\"), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194\n    },\n    __self: this\n  }), React.createElement(\"table\", {\n    className: \"table table-bordered table-hover table-condensed\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195\n    },\n    __self: this\n  }, React.createElement(\"thead\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198\n    },\n    __self: this\n  }, \"#\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199\n    },\n    __self: this\n  }, \"Problema\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200\n    },\n    __self: this\n  }, \"Solu\\xE7\\xE3o\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201\n    },\n    __self: this\n  }, \"Observacao\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202\n    },\n    __self: this\n  }, \"Cliente\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203\n    },\n    __self: this\n  }, \"T\\xE9cnico\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204\n    },\n    __self: this\n  }, \"Tipo Suporte\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205\n    },\n    __self: this\n  }, \"A\\xE7\\xF5es\"))), React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208\n    },\n    __self: this\n  }, data.map(item => React.createElement(\"tr\", {\n    key: item.id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211\n    },\n    __self: this\n  }, React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212\n    },\n    __self: this\n  }, item.id), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213\n    },\n    __self: this\n  }, item.problema), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214\n    },\n    __self: this\n  }, item.solucao), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215\n    },\n    __self: this\n  }, item.observacao), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216\n    },\n    __self: this\n  }, item.cliente_id), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217\n    },\n    __self: this\n  }, item.tecnico_id), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218\n    },\n    __self: this\n  }, item.tipos_suporte_id), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    onClick: e => onEdit(item),\n    className: \"btn btn-primary btn-sm\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220\n    },\n    __self: this\n  }, \"Editar\"), React.createElement(\"button\", {\n    onClick: e => onDelete(item.id),\n    className: \"btn btn-danger btn-sm\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221\n    },\n    __self: this\n  }, \"Deletar\"))))), React.createElement(\"tfoot\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227\n    },\n    __self: this\n  }))));\n}\n\nexport default Tickets;","map":{"version":3,"sources":["/mnt/projetos/Ubersystem/Estudos/recrutei/frontend/src/views/Tickets/index.js"],"names":["React","useEffect","useState","Link","ticketsApi","Tickets","data","setData","item","setItem","tableVisible","setTableVisible","onLoad","response","_all","onCreate","onEdit","onDelete","id","_delete","onSave","_create","_update","onSubmit","e","preventDefault","DataForm","info","setId","problema","setProblema","solucao","setSolucao","observacao","setObservacao","tecnico_id","setTecnicoId","cliente_id","setClienteId","tipos_suporte_id","setSuporteId","event","target","value","DataTable","map"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport ticketsApi from \"../../services/ticketsApi\";\n\nfunction Tickets () {\n\n    const [ data, setData ] = useState([]);\n    const [ item, setItem ] = useState([]);\n    const [ tableVisible, setTableVisible ] = useState(true);\n\n    useEffect(() => {\n        onLoad();\n    }, [])\n\n    const onLoad = async () => {\n        let response = await ticketsApi._all();\n        setData(response.data.data);\n        return response;\n    }\n\n    const onCreate = () => {\n        let item = {\n            'id' : 0,\n            'problema' : '',\n            'solucao' : '',\n            'observacao' : '',\n            'tecnico_id' : '',\n            'cliente_id' : '',\n            'tipos_suporte_id' : '',\n        }\n        setItem(item)\n        setTableVisible(false);\n    }\n\n    const onEdit = (item) => {\n        setItem(item)\n        setTableVisible(false);\n    }\n\n    const onDelete = async (id) => {\n        await ticketsApi._delete(id)\n        onLoad();\n    }\n\n    const onSave = async (item) =>{\n        if(item.id === 0) {\n            // create\n            return await ticketsApi._create(item)\n        } else {\n            // update\n            return await ticketsApi._update(item.id, item)\n        }\n    }\n\n    const onSubmit = async (e, item) => {\n        e.preventDefault();\n\n        await onSave(item);\n\n        onLoad();\n        setTableVisible(true);\n    }\n\n    return (\n\n        <div className=\"content-wrapper\">\n            <section className=\"content-header\">\n                <h1>\n                    Ticket\n                    <small>Seja bem vindo...</small>\n                </h1>\n                <ol className=\"breadcrumb\">\n                    <li><Link to=\"/dashboard\"><i className=\"fa fa-dashboard\"></i> Home</Link></li>\n                    <li className=\"active\">Ticket</li>\n                </ol>\n            </section>\n\n            <section className=\"content\">\n                <div className=\"row\">\n                    <div className=\"col-xs-12\">\n\n                        { tableVisible ?\n                            <DataTable data={data} onEdit={onEdit} onDelete={onDelete} onCreate={onCreate}/>\n                            :\n                            <DataForm onSubmit={onSubmit} data={ item }/>\n                        }\n\n                    </div>\n\n                </div>\n\n            </section>\n        </div>\n    );\n\n}\n\n\nfunction DataForm( info ){\n\n    const [ id, setId ] = useState(info.data.id);\n    const [ problema, setProblema ] = useState(info.data.problema);\n    const [ solucao, setSolucao ] = useState(info.data.solucao);\n    const [ observacao, setObservacao ] = useState(info.data.observacao);\n    const [ tecnico_id, setTecnicoId ] = useState(info.data.tecnico_id);\n    const [ cliente_id, setClienteId ] = useState(info.data.cliente_id);\n    const [ tipos_suporte_id, setSuporteId ] = useState(info.data.tipos_suporte_id);\n\n    const onSubmit = (e) => {\n        return info.onSubmit(e, {\n            id, problema, solucao, observacao, tecnico_id, cliente_id, tipos_suporte_id\n        });\n    }\n\n    return (\n\n        <div className=\"box\">\n            <div className=\"box-header\">\n                <h3 className=\"box-title\">Dados</h3>\n            </div>\n\n            <div className=\"box-body\">\n                <form onSubmit={onSubmit}>\n\n                    <div className=\"box-body\">\n                        <div className=\"form-group\">\n                            <label htmlFor=\"id\">ID</label>\n                            <input\n                                onChange={event => setId( event.target.value )}\n                                value={id}\n                                type=\"text\" className=\"form-control\" id=\"id\" placeholder=\"ID\"\n                                readOnly=\"readOnly\"\n                            />\n                        </div>\n                        <div className=\"form-group\">\n                            <label htmlFor=\"problema\">Problema</label>\n                            <input\n                                onChange={event => setProblema( event.target.value )}\n                                value={problema}\n                                type=\"text\" className=\"form-control\" id=\"problema\" placeholder=\"Problema\" />\n                        </div>\n                        <div className=\"form-group\">\n                            <label htmlFor=\"solucao\">Solução</label>\n                            <input\n                                onChange={event => setSolucao( event.target.value )}\n                                value={solucao}\n                                type=\"text\" className=\"form-control\" id=\"solucao\" placeholder=\"Solução\" />\n                        </div>\n                        <div className=\"form-group\">\n                            <label htmlFor=\"observacao\">Observação</label>\n                            <input\n                                onChange={event => setObservacao( event.target.value )}\n                                value={observacao}\n                                type=\"text\" className=\"form-control\" id=\"observacao\" placeholder=\"Observação\" />\n                        </div>\n                    </div>\n\n                    <div className=\"box-footer\">\n                        <button type=\"submit\" className=\"btn btn-primary\">Salvar</button>\n                    </div>\n                </form>\n            </div>\n        </div>\n\n    )\n}\n\nfunction DataTable( info ){\n\n    const { data } = info;\n\n    const onCreate = () => {\n        return info.onCreate();\n    }\n\n    const onEdit = (item) => {\n        return info.onEdit(item);\n    }\n\n    const onDelete = (id) => {\n        return info.onDelete(id);\n    }\n\n    return (\n\n        <div className=\"box\">\n            <div className=\"box-header\">\n                <h3 className=\"box-title\">Tickets</h3>\n            </div>\n\n            <div className=\"box-body\">\n                <button onClick={onCreate} type=\"button\" className=\"btn btn-success\">Novo</button>\n                <br /><br />\n                <table className=\"table table-bordered table-hover table-condensed\">\n                    <thead>\n                    <tr>\n                        <th>#</th>\n                        <th>Problema</th>\n                        <th>Solução</th>\n                        <th>Observacao</th>\n                        <th>Cliente</th>\n                        <th>Técnico</th>\n                        <th>Tipo Suporte</th>\n                        <th>Ações</th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    {\n                        data.map(item => (\n                            <tr key={item.id}>\n                                <td>{item.id}</td>\n                                <td>{item.problema}</td>\n                                <td>{item.solucao}</td>\n                                <td>{item.observacao}</td>\n                                <td>{item.cliente_id}</td>\n                                <td>{item.tecnico_id}</td>\n                                <td>{item.tipos_suporte_id}</td>\n                                <td>\n                                    <button onClick={e => onEdit(item)} className=\"btn btn-primary btn-sm\">Editar</button>\n                                    <button onClick={e => onDelete(item.id)} className=\"btn btn-danger btn-sm\">Deletar</button>\n                                </td>\n                            </tr>\n                        ))\n                    }\n                    </tbody>\n                    <tfoot>\n\n                    </tfoot>\n                </table>\n            </div>\n        </div>\n\n\n\n    )\n}\n\n\nexport default Tickets;\n    \n   "]},"metadata":{},"sourceType":"module"}