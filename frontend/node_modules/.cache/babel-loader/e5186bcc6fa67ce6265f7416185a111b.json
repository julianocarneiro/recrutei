{"ast":null,"code":"import _slicedToArray from \"/mnt/projetos/Ubersystem/Estudos/recrutei/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/mnt/projetos/Ubersystem/Estudos/recrutei/frontend/src/views/Pages/Login/Login.js\";\nimport React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport api from '../../../services/api';\n\nfunction Login({\n  history\n}) {\n  const _useState = useState(''),\n        _useState2 = _slicedToArray(_useState, 2),\n        email = _useState2[0],\n        setEmail = _useState2[1];\n\n  const _useState3 = useState(''),\n        _useState4 = _slicedToArray(_useState3, 2),\n        password = _useState4[0],\n        setPassword = _useState4[1];\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n\n    try {\n      let response = await api.post('/authenticate', {\n        email,\n        password\n      });\n      console.log(response.status);\n\n      if (response.data.success) {\n        localStorage.setItem('token', response.data.token.token);\n        console.log('usuario logado, token ' + response.data.token.token);\n        history.push('/dashboard');\n      }\n    } catch (e) {\n      console.log(e.response.status); // undefined\n\n      console.log(e.response.data[0]); // undefined\n    }\n  }\n\n  return React.createElement(\"div\", {\n    className: \"login-box\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"login-logo\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"/dashboard\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, React.createElement(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, \"R\"), \"ecrutei\")), React.createElement(\"div\", {\n    className: \"login-box-body\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    className: \"login-box-msg\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, \"Fa\\xE7a login para acessar o sistema.\"), React.createElement(\"form\", {\n    action: \"../../index2.html\",\n    method: \"post\",\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"form-group has-feedback\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    id: \"email\",\n    type: \"email\",\n    className: \"form-control\",\n    placeholder: \"Email\",\n    value: email,\n    onChange: event => setEmail(event.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"glyphicon glyphicon-envelope form-control-feedback\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-group has-feedback\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    id: \"password\",\n    type: \"password\",\n    className: \"form-control\",\n    placeholder: \"Password\",\n    value: password,\n    onChange: event => setPassword(event.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"glyphicon glyphicon-lock form-control-feedback\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-xs-12\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-primary btn-block btn-flat\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, \"Logar\"))))));\n}\n\nexport default Login;","map":{"version":3,"sources":["/mnt/projetos/Ubersystem/Estudos/recrutei/frontend/src/views/Pages/Login/Login.js"],"names":["React","useState","Link","api","Login","history","email","setEmail","password","setPassword","handleSubmit","e","preventDefault","response","post","console","log","status","data","success","localStorage","setItem","token","push","event","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport api from '../../../services/api';\n\nfunction Login({ history }) {\n\n  const [ email, setEmail ] = useState('');\n  const [ password, setPassword ] = useState('');\n\n  async function handleSubmit(e){\n    e.preventDefault();\n\n\n    try {\n      let response = await api.post('/authenticate', { email, password })\n      console.log(response.status)\n\n      if( response.data.success ){\n          localStorage.setItem('token', response.data.token.token );\n          console.log('usuario logado, token ' + response.data.token.token)\n\n          history.push('/dashboard');\n      }\n\n    } catch (e) {\n      console.log(e.response.status) // undefined\n      console.log(e.response.data[0]) // undefined\n    }\n\n\n\n\n\n\n  }\n\n  return (\n      <div className=\"login-box\">\n        <div className=\"login-logo\">\n          <Link to=\"/dashboard\"><b>R</b>ecrutei</Link>\n        </div>\n        <div className=\"login-box-body\">\n          <p className=\"login-box-msg\">Fa√ßa login para acessar o sistema.</p>\n\n          <form action=\"../../index2.html\" method=\"post\" onSubmit={handleSubmit}>\n            <div className=\"form-group has-feedback\">\n              <input\n                  id=\"email\"\n                  type=\"email\"\n                  className=\"form-control\"\n                  placeholder=\"Email\"\n                  value={email}\n                  onChange={event => setEmail(event.target.value)}\n\n              />\n                <span className=\"glyphicon glyphicon-envelope form-control-feedback\"></span>\n            </div>\n            <div className=\"form-group has-feedback\">\n              <input\n                  id=\"password\"\n                  type=\"password\"\n                  className=\"form-control\"\n                  placeholder=\"Password\"\n                  value={password}\n                  onChange={event => setPassword(event.target.value)}\n              />\n                <span className=\"glyphicon glyphicon-lock form-control-feedback\"></span>\n            </div>\n            <div className=\"row\">\n\n              <div className=\"col-xs-12\">\n                <button type=\"submit\" className=\"btn btn-primary btn-block btn-flat\">Logar</button>\n              </div>\n            </div>\n          </form>\n        </div>\n\n      </div>\n  );\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}